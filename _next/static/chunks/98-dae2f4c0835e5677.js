"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[98],{7098:function(t,e,i){i.d(e,{lu:function(){return ct},zx:function(){return Ct}});var r=Object.create,n=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty,l=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),d=(t,e,i)=>(i=null!=t?r(a(t)):{},((t,e,i,r)=>{if(e&&"object"==typeof e||"function"==typeof e)for(let a of o(e))!h.call(t,a)&&a!==i&&n(t,a,{get:()=>e[a],enumerable:!(r=s(e,a))||r.enumerable});return t})(!e&&t&&t.__esModule?i:n(i,"default",{value:t,enumerable:!0}),t)),u=l(((t,e)=>{var i=function(t,e){return t<e};function r(t){if(!(this instanceof r))return new r(t);this.array=[],this.size=0,this.compare=t||i}r.prototype.clone=function(){var t=new r(this.compare);return t.size=this.size,t.array=this.array.slice(0,this.size),t},r.prototype.add=function(t){var e,i,r=this.size;for(this.array[this.size]=t,this.size+=1;r>0&&(e=r-1>>1,i=this.array[e],this.compare(t,i));)this.array[r]=i,r=e;this.array[r]=t},r.prototype.heapify=function(t){var e;for(this.array=t,this.size=t.length,e=this.size>>1;e>=0;e--)this._percolateDown(e)},r.prototype._percolateUp=function(t,e){for(var i,r,n=this.array[t];t>0&&(i=t-1>>1,r=this.array[i],e||this.compare(n,r));)this.array[t]=r,t=i;this.array[t]=n},r.prototype._percolateDown=function(t){for(var e,i,r,n=this.size,s=this.size>>>1,o=this.array[t];t<s&&(i=(e=1+(t<<1))+1,r=this.array[e],i<n&&this.compare(this.array[i],r)&&(e=i,r=this.array[i]),this.compare(r,o));)this.array[t]=r,t=e;this.array[t]=o},r.prototype._removeAt=function(t){if(!(t>this.size-1||t<0))return this._percolateUp(t,!0),this.poll()},r.prototype.remove=function(t){for(var e=0;e<this.size;e++)if(!this.compare(this.array[e],t)&&!this.compare(t,this.array[e]))return this._removeAt(e),!0;return!1},r.prototype.removeOne=function(t){if("function"==typeof t)for(var e=0;e<this.size;e++)if(t(this.array[e]))return this._removeAt(e)},r.prototype.removeMany=function(t,e){if("function"!=typeof t||this.size<1)return[];e=e?Math.min(e,this.size):this.size;for(var i=0,r=new Array(e),n=0,s=new Array(this.size);i<e&&!this.isEmpty();){var o=this.poll();t(o)?r[i++]=o:s[n++]=o}r.length=i;for(var a=0;a<n;)this.add(s[a++]);return r},r.prototype.peek=function(){if(0!=this.size)return this.array[0]},r.prototype.poll=function(){if(0!=this.size){var t=this.array[0];return this.size>1?(this.array[0]=this.array[--this.size],this._percolateDown(0)):this.size-=1,t}},r.prototype.replaceTop=function(t){if(0!=this.size){var e=this.array[0];return this.array[0]=t,this._percolateDown(0),e}},r.prototype.trim=function(){this.array=this.array.slice(0,this.size)},r.prototype.isEmpty=function(){return 0===this.size},r.prototype.forEach=function(t){if(!this.isEmpty()&&"function"==typeof t)for(var e=0,i=this.clone();!i.isEmpty();)t(i.poll(),e++)},r.prototype.kSmallest=function(t){if(0==this.size)return[];t=Math.min(this.size,t);var e=new r(this.compare);let i=Math.min((t>0?Math.pow(2,t-1):0)+1,this.size);e.size=i,e.array=this.array.slice(0,i);for(var n=new Array(t),s=0;s<t;s++)n[s]=e.poll();return n},e.exports=r})),f=l(((t,e)=>{function i(t,e,i,r){this.feasible=i,this.evaluation=e,this.bounded=r,this._tableau=t}e.exports=i,i.prototype.generateSolutionSet=function(){for(var t={},e=this._tableau,i=e.varIndexByRow,r=e.variablesPerIndex,n=e.matrix,s=e.rhsColumn,o=e.height-1,a=Math.round(1/e.precision),h=1;h<=o;h+=1){var l=r[i[h]];if(void 0!==l&&!0!==l.isSlack){var d=n[h][s];t[l.id]=Math.round((Number.EPSILON+d)*a)/a}}return t}})),c=l(((t,e)=>{var i=f();function r(t,e,r,n,s){i.call(this,t,e,r,n),this.iter=s}e.exports=r,r.prototype=Object.create(i.prototype),r.constructor=r})),p=l(((t,e)=>{var i=f(),r=c();function n(t){this.model=null,this.matrix=null,this.width=0,this.height=0,this.costRowIndex=0,this.rhsColumn=0,this.variablesPerIndex=[],this.unrestrictedVars=null,this.feasible=!0,this.evaluation=0,this.simplexIters=0,this.varIndexByRow=null,this.varIndexByCol=null,this.rowByVarIndex=null,this.colByVarIndex=null,this.precision=t||1e-8,this.optionalObjectives=[],this.objectivesByPriority={},this.savedState=null,this.availableIndexes=[],this.lastElementIndex=0,this.variables=null,this.nVars=0,this.bounded=!0,this.unboundedVarIndex=null,this.branchAndCutIterations=0}function s(t,e){this.priority=t,this.reducedCosts=new Array(e);for(var i=0;i<e;i+=1)this.reducedCosts[i]=0}e.exports=n,n.prototype.solve=function(){return this.model.getNumberOfIntegerVariables()>0?this.branchAndCut():this.simplex(),this.updateVariableValues(),this.getSolution()},s.prototype.copy=function(){var t=new s(this.priority,this.reducedCosts.length);return t.reducedCosts=this.reducedCosts.slice(),t},n.prototype.setOptionalObjective=function(t,e,i){var r=this.objectivesByPriority[t];void 0===r&&(r=new s(t,Math.max(this.width,e+1)),this.objectivesByPriority[t]=r,this.optionalObjectives.push(r),this.optionalObjectives.sort((function(t,e){return t.priority-e.priority})));r.reducedCosts[e]=i},n.prototype.initialize=function(t,e,i,r){this.variables=i,this.unrestrictedVars=r,this.width=t,this.height=e;for(var n=new Array(t),s=0;s<t;s++)n[s]=0;this.matrix=new Array(e);for(var o=0;o<e;o++)this.matrix[o]=n.slice();this.varIndexByRow=new Array(this.height),this.varIndexByCol=new Array(this.width),this.varIndexByRow[0]=-1,this.varIndexByCol[0]=-1,this.nVars=t+e-2,this.rowByVarIndex=new Array(this.nVars),this.colByVarIndex=new Array(this.nVars),this.lastElementIndex=this.nVars},n.prototype._resetMatrix=function(){var t,e,i=this.model.variables,r=this.model.constraints,n=i.length,s=r.length,o=this.matrix[0],a=!0===this.model.isMinimization?-1:1;for(t=0;t<n;t+=1){var h=i[t],l=h.priority,d=a*h.cost;0===l?o[t+1]=d:this.setOptionalObjective(l,t+1,d),e=i[t].index,this.rowByVarIndex[e]=-1,this.colByVarIndex[e]=t+1,this.varIndexByCol[t+1]=e}for(var u=1,f=0;f<s;f+=1){var c=r[f],p=c.index;this.rowByVarIndex[p]=u,this.colByVarIndex[p]=-1,this.varIndexByRow[u]=p;var v,y,m=c.terms,x=m.length,b=this.matrix[u++];if(c.isUpperBound){for(v=0;v<x;v+=1)y=m[v],b[this.colByVarIndex[y.variable.index]]=y.coefficient;b[0]=c.rhs}else{for(v=0;v<x;v+=1)y=m[v],b[this.colByVarIndex[y.variable.index]]=-y.coefficient;b[0]=-c.rhs}}},n.prototype.setModel=function(t){this.model=t;var e=t.nVariables+1,i=t.nConstraints+1;return this.initialize(e,i,t.variables,t.unrestrictedVariables),this._resetMatrix(),this},n.prototype.getNewElementIndex=function(){if(this.availableIndexes.length>0)return this.availableIndexes.pop();var t=this.lastElementIndex;return this.lastElementIndex+=1,t},n.prototype.density=function(){for(var t=0,e=this.matrix,i=0;i<this.height;i++)for(var r=e[i],n=0;n<this.width;n++)0!==r[n]&&(t+=1);return t/(this.height*this.width)},n.prototype.setEvaluation=function(){var t=Math.round(1/this.precision),e=this.matrix[this.costRowIndex][this.rhsColumn],i=Math.round((Number.EPSILON+e)*t)/t;this.evaluation=i,0===this.simplexIters&&(this.bestPossibleEval=i)},n.prototype.getSolution=function(){var t=!0===this.model.isMinimization?this.evaluation:-this.evaluation;return this.model.getNumberOfIntegerVariables()>0?new r(this,t,this.feasible,this.bounded,this.branchAndCutIterations):new i(this,t,this.feasible,this.bounded)}})),v=l((()=>{var t=p();t.prototype.simplex=function(){return this.bounded=!0,this.phase1(),!0===this.feasible&&this.phase2(),this},t.prototype.phase1=function(){for(var t=this.model.checkForCycles,e=[],i=this.matrix,r=this.rhsColumn,n=this.width-1,s=this.height-1,o=0;;){for(var a=0,h=-this.precision,l=1;l<=s;l++){!0===this.unrestrictedVars[this.varIndexByRow[l]];var d=i[l][r];d<h&&(h=d,a=l)}if(0===a)return this.feasible=!0,o;for(var u=0,f=-1/0,c=i[0],p=i[a],v=1;v<=n;v++){var y=p[v];if(!0===this.unrestrictedVars[this.varIndexByCol[v]]||y<-this.precision){var m=-c[v]/y;f<m&&(f=m,u=v)}}if(0===u)return this.feasible=!1,o;if(t){e.push([this.varIndexByRow[a],this.varIndexByCol[u]]);var x=this.checkForCycles(e);if(x.length>0)return this.model.messages.push("Cycle in phase 1"),this.model.messages.push("Start :"+x[0]),this.model.messages.push("Length :"+x[1]),this.feasible=!1,o}this.pivot(a,u),o+=1}},t.prototype.phase2=function(){for(var t,e,i=this.model.checkForCycles,r=[],n=this.matrix,s=this.rhsColumn,o=this.width-1,a=this.height-1,h=this.precision,l=this.optionalObjectives.length,d=null,u=0;;){var f=n[this.costRowIndex];l>0&&(d=[]);for(var c=0,p=h,v=!1,y=1;y<=o;y++)t=f[y],e=!0===this.unrestrictedVars[this.varIndexByCol[y]],l>0&&-h<t&&t<h?d.push(y):e&&t<0?-t>p&&(p=-t,c=y,v=!0):t>p&&(p=t,c=y,v=!1);if(l>0)for(var m=0;0===c&&d.length>0&&m<l;){var x=[],b=this.optionalObjectives[m].reducedCosts;p=h;for(var g=0;g<d.length;g++)t=b[y=d[g]],e=!0===this.unrestrictedVars[this.varIndexByCol[y]],-h<t&&t<h?x.push(y):e&&t<0?-t>p&&(p=-t,c=y,v=!0):t>p&&(p=t,c=y,v=!1);d=x,m+=1}if(0===c)return this.setEvaluation(),this.simplexIters+=1,u;for(var w=0,I=1/0,C=(this.varIndexByRow,1);C<=a;C++){var B=n[C],V=B[s],M=B[c];if(!(-h<M&&M<h)){if(M>0&&h>V&&V>-h){I=0,w=C;break}var O=v?-V/M:V/M;O>h&&I>O&&(I=O,w=C)}}if(I===1/0)return this.evaluation=-1/0,this.bounded=!1,this.unboundedVarIndex=this.varIndexByCol[c],u;if(i){r.push([this.varIndexByRow[w],this.varIndexByCol[c]]);var z=this.checkForCycles(r);if(z.length>0)return this.model.messages.push("Cycle in phase 2"),this.model.messages.push("Start :"+z[0]),this.model.messages.push("Length :"+z[1]),this.feasible=!1,u}this.pivot(w,c,!0),u+=1}};var e=[];t.prototype.pivot=function(t,i){var r=this.matrix,n=r[t][i],s=this.height-1,o=this.width-1,a=this.varIndexByRow[t],h=this.varIndexByCol[i];this.varIndexByRow[t]=h,this.varIndexByCol[i]=a,this.rowByVarIndex[h]=t,this.rowByVarIndex[a]=-1,this.colByVarIndex[h]=-1,this.colByVarIndex[a]=i;for(var l=r[t],d=0,u=0;u<=o;u++)l[u]>=-1e-16&&l[u]<=1e-16?l[u]=0:(l[u]/=n,e[d]=u,d+=1);l[i]=1/n;this.precision;for(var f,c,p,v=0;v<=s;v++)if(v!==t&&!(r[v][i]>=-1e-16&&r[v][i]<=1e-16)){var y=r[v];if((f=y[i])>=-1e-16&&f<=1e-16)0!==f&&(y[i]=0);else{for(c=0;c<d;c++)(p=l[u=e[c]])>=-1e-16&&p<=1e-16?0!==p&&(l[u]=0):y[u]=y[u]-f*p;y[i]=-f/n}}var m=this.optionalObjectives.length;if(m>0)for(var x=0;x<m;x+=1){var b=this.optionalObjectives[x].reducedCosts;if(0!==(f=b[i])){for(c=0;c<d;c++)0!==(p=l[u=e[c]])&&(b[u]=b[u]-f*p);b[i]=-f/n}}},t.prototype.checkForCycles=function(t){for(var e=0;e<t.length-1;e++)for(var i=e+1;i<t.length;i++){var r=t[e],n=t[i];if(r[0]===n[0]&&r[1]===n[1]){if(i-e>t.length-i)break;for(var s=!0,o=1;o<i-e;o++){var a=t[e+o],h=t[i+o];if(a[0]!==h[0]||a[1]!==h[1]){s=!1;break}}if(s)return[e,i-e]}}return[]}})),y=l(((t,e)=>{function i(t,e,i,r){this.id=t,this.cost=e,this.index=i,this.value=0,this.priority=r}function r(t,e,r,n){i.call(this,t,e,r,n)}function n(t,e){i.call(this,t,0,e,0)}function s(t,e){this.variable=t,this.coefficient=e}function o(t,e,i){return 0===i||"required"===i?null:(e=e||1,i=i||1,!1===t.isMinimization&&(e=-e),t.addVariable(e,"r"+t.relaxationIndex++,!1,!1,i))}function a(t,e,i,r){this.slack=new n("s"+i,i),this.index=i,this.model=r,this.rhs=t,this.isUpperBound=e,this.terms=[],this.termsByVarIndex={},this.relaxation=null}function h(t,e){this.upperBound=t,this.lowerBound=e,this.model=t.model,this.rhs=t.rhs,this.relaxation=null}r.prototype.isInteger=!0,n.prototype.isSlack=!0,a.prototype.addTerm=function(t,e){var i=e.index,r=this.termsByVarIndex[i];if(void 0===r)r=new s(e,t),this.termsByVarIndex[i]=r,this.terms.push(r),!0===this.isUpperBound&&(t=-t),this.model.updateConstraintCoefficient(this,e,t);else{var n=r.coefficient+t;this.setVariableCoefficient(n,e)}return this},a.prototype.removeTerm=function(t){return this},a.prototype.setRightHandSide=function(t){if(t!==this.rhs){var e=t-this.rhs;!0===this.isUpperBound&&(e=-e),this.rhs=t,this.model.updateRightHandSide(this,e)}return this},a.prototype.setVariableCoefficient=function(t,e){var i=e.index;if(-1!==i){var r=this.termsByVarIndex[i];if(void 0===r)this.addTerm(t,e);else if(t!==r.coefficient){var n=t-r.coefficient;!0===this.isUpperBound&&(n=-n),r.coefficient=t,this.model.updateConstraintCoefficient(this,e,n)}return this}console.warn("[Constraint.setVariableCoefficient] Trying to change coefficient of inexistant variable.")},a.prototype.relax=function(t,e){this.relaxation=o(this.model,t,e),this._relax(this.relaxation)},a.prototype._relax=function(t){null!==t&&(this.isUpperBound?this.setVariableCoefficient(-1,t):this.setVariableCoefficient(1,t))},h.prototype.isEquality=!0,h.prototype.addTerm=function(t,e){return this.upperBound.addTerm(t,e),this.lowerBound.addTerm(t,e),this},h.prototype.removeTerm=function(t){return this.upperBound.removeTerm(t),this.lowerBound.removeTerm(t),this},h.prototype.setRightHandSide=function(t){this.upperBound.setRightHandSide(t),this.lowerBound.setRightHandSide(t),this.rhs=t},h.prototype.relax=function(t,e){this.relaxation=o(this.model,t,e),this.upperBound.relaxation=this.relaxation,this.upperBound._relax(this.relaxation),this.lowerBound.relaxation=this.relaxation,this.lowerBound._relax(this.relaxation)},e.exports={Constraint:a,Variable:i,IntegerVariable:r,SlackVariable:n,Equality:h,Term:s}})),m=l((()=>{var t=p(),e=y().SlackVariable;t.prototype.addCutConstraints=function(t){for(var i=t.length,r=this.height,n=r+i,s=r;s<n;s+=1)void 0===this.matrix[s]&&(this.matrix[s]=this.matrix[s-1].slice());this.height=n,this.nVars=this.width+this.height-2;for(var o,a=this.width-1,h=0;h<i;h+=1){var l=t[h],d=r+h,u="min"===l.type?-1:1,f=l.varIndex,c=this.rowByVarIndex[f],p=this.matrix[d];if(-1===c){for(p[this.rhsColumn]=u*l.value,o=1;o<=a;o+=1)p[o]=0;p[this.colByVarIndex[f]]=u}else{var v=this.matrix[c],y=v[this.rhsColumn];for(p[this.rhsColumn]=u*(l.value-y),o=1;o<=a;o+=1)p[o]=-u*v[o]}var m=this.getNewElementIndex();this.varIndexByRow[d]=m,this.rowByVarIndex[m]=d,this.colByVarIndex[m]=-1,this.variablesPerIndex[m]=new e("s"+m,m),this.nVars+=1}},t.prototype._addLowerBoundMIRCut=function(t){if(t===this.costRowIndex)return!1;this.model;var i=this.matrix;if(!this.variablesPerIndex[this.varIndexByRow[t]].isInteger)return!1;var r=i[t][this.rhsColumn],n=r-Math.floor(r);if(n<this.precision||1-this.precision<n)return!1;var s=this.height;i[s]=i[s-1].slice(),this.height+=1,this.nVars+=1;var o=this.getNewElementIndex();this.varIndexByRow[s]=o,this.rowByVarIndex[o]=s,this.colByVarIndex[o]=-1,this.variablesPerIndex[o]=new e("s"+o,o),i[s][this.rhsColumn]=Math.floor(r);for(var a=1;a<this.varIndexByCol.length;a+=1){if(this.variablesPerIndex[this.varIndexByCol[a]].isInteger){var h=i[t][a],l=Math.floor(h)+Math.max(0,h-Math.floor(h)-n)/(1-n);i[s][a]=l}else i[s][a]=Math.min(0,i[t][a]/(1-n))}for(var d=0;d<this.width;d+=1)i[s][d]-=i[t][d];return!0},t.prototype._addUpperBoundMIRCut=function(t){if(t===this.costRowIndex)return!1;this.model;var i=this.matrix;if(!this.variablesPerIndex[this.varIndexByRow[t]].isInteger)return!1;var r=i[t][this.rhsColumn],n=r-Math.floor(r);if(n<this.precision||1-this.precision<n)return!1;var s=this.height;i[s]=i[s-1].slice(),this.height+=1,this.nVars+=1;var o=this.getNewElementIndex();this.varIndexByRow[s]=o,this.rowByVarIndex[o]=s,this.colByVarIndex[o]=-1,this.variablesPerIndex[o]=new e("s"+o,o),i[s][this.rhsColumn]=-n;for(var a=1;a<this.varIndexByCol.length;a+=1){var h=this.variablesPerIndex[this.varIndexByCol[a]],l=i[t][a],d=l-Math.floor(l);h.isInteger?i[s][a]=d<=n?-d:-(1-d)*n/d:i[s][a]=l>=0?-l:l*n/(1-n)}return!0},t.prototype.applyMIRCuts=function(){}})),x=l((()=>{var t=p();t.prototype._putInBase=function(t){var e=this.rowByVarIndex[t];if(-1===e){for(var i=this.colByVarIndex[t],r=1;r<this.height;r+=1){var n=this.matrix[r][i];if(n<-this.precision||this.precision<n){e=r;break}}this.pivot(e,i)}return e},t.prototype._takeOutOfBase=function(t){var e=this.colByVarIndex[t];if(-1===e){for(var i=this.rowByVarIndex[t],r=this.matrix[i],n=1;n<this.height;n+=1){var s=r[n];if(s<-this.precision||this.precision<s){e=n;break}}this.pivot(i,e)}return e},t.prototype.updateVariableValues=function(){for(var t=this.variables.length,e=Math.round(1/this.precision),i=0;i<t;i+=1){var r=this.variables[i],n=r.index,s=this.rowByVarIndex[n];if(-1===s)r.value=0;else{var o=this.matrix[s][this.rhsColumn];r.value=Math.round((o+Number.EPSILON)*e)/e}}},t.prototype.updateRightHandSide=function(t,e){var i=this.height-1,r=this.rowByVarIndex[t.index];if(-1===r){for(var n=this.colByVarIndex[t.index],s=0;s<=i;s+=1){var o=this.matrix[s];o[this.rhsColumn]-=e*o[n]}var a=this.optionalObjectives.length;if(a>0)for(var h=0;h<a;h+=1){var l=this.optionalObjectives[h].reducedCosts;l[this.rhsColumn]-=e*l[n]}}else this.matrix[r][this.rhsColumn]-=e},t.prototype.updateConstraintCoefficient=function(t,e,i){if(t.index===e.index)throw new Error("[Tableau.updateConstraintCoefficient] constraint index should not be equal to variable index !");var r=this._putInBase(t.index),n=this.colByVarIndex[e.index];if(-1===n)for(var s=this.rowByVarIndex[e.index],o=0;o<this.width;o+=1)this.matrix[r][o]+=i*this.matrix[s][o];else this.matrix[r][n]-=i},t.prototype.updateCost=function(t,e){var i=t.index,r=this.width-1,n=this.colByVarIndex[i];if(-1===n){var s,o=this.matrix[this.rowByVarIndex[i]];if(0===t.priority){var a=this.matrix[0];for(s=0;s<=r;s+=1)a[s]+=e*o[s]}else{var h=this.objectivesByPriority[t.priority].reducedCosts;for(s=0;s<=r;s+=1)h[s]+=e*o[s]}}else this.matrix[0][n]-=e},t.prototype.addConstraint=function(t){var e=t.isUpperBound?1:-1,i=this.height,r=this.matrix[i];void 0===r&&(r=this.matrix[0].slice(),this.matrix[i]=r);for(var n=this.width-1,s=0;s<=n;s+=1)r[s]=0;r[this.rhsColumn]=e*t.rhs;for(var o=t.terms,a=o.length,h=0;h<a;h+=1){var l=o[h],d=l.coefficient,u=l.variable.index,f=this.rowByVarIndex[u];if(-1===f)r[this.colByVarIndex[u]]+=e*d;else{var c=this.matrix[f];c[this.rhsColumn];for(s=0;s<=n;s+=1)r[s]-=e*d*c[s]}}var p=t.index;this.varIndexByRow[i]=p,this.rowByVarIndex[p]=i,this.colByVarIndex[p]=-1,this.height+=1},t.prototype.removeConstraint=function(t){var e=t.index,i=this.height-1,r=this._putInBase(e),n=this.matrix[i];this.matrix[i]=this.matrix[r],this.matrix[r]=n,this.varIndexByRow[r]=this.varIndexByRow[i],this.varIndexByRow[i]=-1,this.rowByVarIndex[e]=-1,this.availableIndexes[this.availableIndexes.length]=e,t.slack.index=-1,this.height-=1},t.prototype.addVariable=function(t){var e=this.height-1,i=this.width,r=!0===this.model.isMinimization?-t.cost:t.cost,n=t.priority,s=this.optionalObjectives.length;if(s>0)for(var o=0;o<s;o+=1)this.optionalObjectives[o].reducedCosts[i]=0;0===n?this.matrix[0][i]=r:(this.setOptionalObjective(n,i,r),this.matrix[0][i]=0);for(var a=1;a<=e;a+=1)this.matrix[a][i]=0;var h=t.index;this.varIndexByCol[i]=h,this.rowByVarIndex[h]=-1,this.colByVarIndex[h]=i,this.width+=1},t.prototype.removeVariable=function(t){var e=t.index,i=this._takeOutOfBase(e),r=this.width-1;if(i!==r){for(var n=this.height-1,s=0;s<=n;s+=1){var o=this.matrix[s];o[i]=o[r]}var a=this.optionalObjectives.length;if(a>0)for(var h=0;h<a;h+=1){var l=this.optionalObjectives[h].reducedCosts;l[i]=l[r]}var d=this.varIndexByCol[r];this.varIndexByCol[i]=d,this.colByVarIndex[d]=i}this.varIndexByCol[r]=-1,this.colByVarIndex[e]=-1,this.availableIndexes[this.availableIndexes.length]=e,t.index=-1,this.width-=1}})),b=l((()=>{p().prototype.log=function(t,e){console.log("****",t,"****"),console.log("Nb Variables",this.width-1),console.log("Nb Constraints",this.height-1),console.log("Basic Indexes",this.varIndexByRow),console.log("Non Basic Indexes",this.varIndexByCol),console.log("Rows",this.rowByVarIndex),console.log("Cols",this.colByVarIndex);var i,r,n,s,o,a,h,l,d,u,f,c="",p=[" "];for(r=1;r<this.width;r+=1)o=this.varIndexByCol[r],h=(a=void 0===(s=this.variablesPerIndex[o])?"c"+o:s.id).length,Math.abs(h-5),l=" ",d="\t",h>5?l+=" ":d+="\t",p[r]=l,c+=d+a;console.log(c);var v=this.matrix[this.costRowIndex],y="\t";for(i=1;i<this.width;i+=1)y+="\t",y+=p[i],y+=v[i].toFixed(5);for(y+="\t"+p[0]+v[0].toFixed(5),console.log(y+"\tZ"),n=1;n<this.height;n+=1){for(u=this.matrix[n],f="\t",r=1;r<this.width;r+=1)f+="\t"+p[r]+u[r].toFixed(5);f+="\t"+p[0]+u[0].toFixed(5),o=this.varIndexByRow[n],a=void 0===(s=this.variablesPerIndex[o])?"c"+o:s.id,console.log(f+"\t"+a)}console.log("");var m=this.optionalObjectives.length;if(m>0){console.log("    Optional objectives:");for(var x=0;x<m;x+=1){var b=this.optionalObjectives[x].reducedCosts,g="";for(i=1;i<this.width;i+=1)g+=b[i]<0?"":" ",g+=p[i],g+=b[i].toFixed(5);g+=(b[0]<0?"":" ")+p[0]+b[0].toFixed(5),console.log(g+" z"+x)}}return console.log("Feasible?",this.feasible),console.log("evaluation",this.evaluation),this}})),g=l((()=>{var t=p();t.prototype.copy=function(){var e=new t(this.precision);e.width=this.width,e.height=this.height,e.nVars=this.nVars,e.model=this.model,e.variables=this.variables,e.variablesPerIndex=this.variablesPerIndex,e.unrestrictedVars=this.unrestrictedVars,e.lastElementIndex=this.lastElementIndex,e.varIndexByRow=this.varIndexByRow.slice(),e.varIndexByCol=this.varIndexByCol.slice(),e.rowByVarIndex=this.rowByVarIndex.slice(),e.colByVarIndex=this.colByVarIndex.slice(),e.availableIndexes=this.availableIndexes.slice();for(var i=[],r=0;r<this.optionalObjectives.length;r++)i[r]=this.optionalObjectives[r].copy();e.optionalObjectives=i;for(var n=this.matrix,s=new Array(this.height),o=0;o<this.height;o++)s[o]=n[o].slice();return e.matrix=s,e},t.prototype.save=function(){this.savedState=this.copy()},t.prototype.restore=function(){if(null!==this.savedState){var t,e,i=this.savedState,r=i.matrix;for(this.nVars=i.nVars,this.model=i.model,this.variables=i.variables,this.variablesPerIndex=i.variablesPerIndex,this.unrestrictedVars=i.unrestrictedVars,this.lastElementIndex=i.lastElementIndex,this.width=i.width,this.height=i.height,t=0;t<this.height;t+=1){var n=r[t],s=this.matrix[t];for(e=0;e<this.width;e+=1)s[e]=n[e]}var o=i.varIndexByRow;for(e=0;e<this.height;e+=1)this.varIndexByRow[e]=o[e];for(;this.varIndexByRow.length>this.height;)this.varIndexByRow.pop();var a=i.varIndexByCol;for(t=0;t<this.width;t+=1)this.varIndexByCol[t]=a[t];for(;this.varIndexByCol.length>this.width;)this.varIndexByCol.pop();for(var h=i.rowByVarIndex,l=i.colByVarIndex,d=0;d<this.nVars;d+=1)this.rowByVarIndex[d]=h[d],this.colByVarIndex[d]=l[d];if(i.optionalObjectives.length>0&&this.optionalObjectives.length>0){this.optionalObjectives=[],this.optionalObjectivePerPriority={};for(var u=0;u<i.optionalObjectives.length;u++){var f=i.optionalObjectives[u].copy();this.optionalObjectives[u]=f,this.optionalObjectivePerPriority[f.priority]=f}}}}})),w=l((()=>{var t=p();function e(t,e){this.index=t,this.value=e}t.prototype.getMostFractionalVar=function(){for(var t=0,i=null,r=null,n=this.model.integerVariables,s=n.length,o=0;o<s;o++){var a=n[o].index,h=this.rowByVarIndex[a];if(-1!==h){var l=this.matrix[h][this.rhsColumn],d=Math.abs(l-Math.round(l));t<d&&(t=d,i=a,r=l)}}return new e(i,r)},t.prototype.getFractionalVarWithLowestCost=function(){for(var t=1/0,i=null,r=null,n=this.model.integerVariables,s=n.length,o=0;o<s;o++){var a=n[o],h=a.index,l=this.rowByVarIndex[h];if(-1!==l){var d=this.matrix[l][this.rhsColumn];if(Math.abs(d-Math.round(d))>this.precision){var u=a.cost;t>u&&(t=u,i=h,r=d)}}}return new e(i,r)}})),I=l((()=>{var t=p();t.prototype.countIntegerValues=function(){for(var t=0,e=1;e<this.height;e+=1)if(this.variablesPerIndex[this.varIndexByRow[e]].isInteger){var i=this.matrix[e][this.rhsColumn];(i-=Math.floor(i))<this.precision&&-i<this.precision&&(t+=1)}return t},t.prototype.isIntegral=function(){for(var t=this.model.integerVariables,e=t.length,i=0;i<e;i++){var r=this.rowByVarIndex[t[i].index];if(-1!==r){var n=this.matrix[r][this.rhsColumn];if(Math.abs(n-Math.round(n))>this.precision)return!1}}return!0},t.prototype.computeFractionalVolume=function(t){for(var e=-1,i=1;i<this.height;i+=1)if(this.variablesPerIndex[this.varIndexByRow[i]].isInteger){var r=this.matrix[i][this.rhsColumn];if(r=Math.abs(r),Math.min(r-Math.floor(r),Math.floor(r+1))<this.precision){if(!t)return 0}else-1===e?e=r:e*=r}return-1===e?0:e}})),C=l(((t,e)=>{v(),m(),x(),b(),g(),w(),I(),e.exports=p()})),B=l((()=>{var t=p();function e(t,e,i){this.type=t,this.varIndex=e,this.value=i}function i(t,e){this.relaxedEvaluation=t,this.cuts=e}function r(t,e){return e.relaxedEvaluation-t.relaxedEvaluation}t.prototype.applyCuts=function(t){if(this.restore(),this.addCutConstraints(t),this.simplex(),this.model.useMIRCuts)for(var e=!0;e;){var i=this.computeFractionalVolume(!0);this.applyMIRCuts(),this.simplex(),this.computeFractionalVolume(!0)>=.9*i&&(e=!1)}},t.prototype.branchAndCut=function(){var t=[],n=0,s=this.model.tolerance,o=!0,a=1e99;this.model.timeout&&(a=Date.now()+this.model.timeout);for(var h=1/0,l=null,d=[],u=0;u<this.optionalObjectives.length;u+=1)d.push(1/0);var f,c=new i(-1/0,[]);for(t.push(c);t.length>0&&!0===o&&Date.now()<a;)if(f=this.model.isMinimization?this.bestPossibleEval*(1+s):this.bestPossibleEval*(1-s),s>0&&h<f&&(o=!1),!((c=t.pop()).relaxedEvaluation>h)){var p=c.cuts;if(this.applyCuts(p),n++,!1!==this.feasible){var v=this.evaluation;if(!(v>h)){if(v===h){for(var y=!0,m=0;m<this.optionalObjectives.length&&!(this.optionalObjectives[m].reducedCosts[0]>d[m]);m+=1)if(this.optionalObjectives[m].reducedCosts[0]<d[m]){y=!1;break}if(y)continue}if(!0===this.isIntegral()){if(this.__isIntegral=!0,1===n)return void(this.branchAndCutIterations=n);l=c,h=v;for(var x=0;x<this.optionalObjectives.length;x+=1)d[x]=this.optionalObjectives[x].reducedCosts[0]}else{1===n&&this.save();for(var b=this.getMostFractionalVar(),g=b.index,w=[],I=[],C=p.length,B=0;B<C;B+=1){var V=p[B];V.varIndex===g?"min"===V.type?I.push(V):w.push(V):(w.push(V),I.push(V))}var M=Math.ceil(b.value),O=Math.floor(b.value),z=new e("min",g,M);w.push(z);var E=new e("max",g,O);I.push(E),t.push(new i(v,w)),t.push(new i(v,I)),t.sort(r)}}}}null!==l&&this.applyCuts(l.cuts),this.branchAndCutIterations=n}})),V=l(((t,e)=>{var i=p(),r=(B(),y()),n=r.Constraint,s=r.Equality,o=r.Variable,a=r.IntegerVariable;r.Term;function h(t,e){this.tableau=new i(t),this.name=e,this.variables=[],this.integerVariables=[],this.unrestrictedVariables={},this.constraints=[],this.nConstraints=0,this.nVariables=0,this.isMinimization=!0,this.tableauInitialized=!1,this.relaxationIndex=1,this.useMIRCuts=!1,this.checkForCycles=!0,this.messages=[]}e.exports=h,h.prototype.minimize=function(){return this.isMinimization=!0,this},h.prototype.maximize=function(){return this.isMinimization=!1,this},h.prototype._getNewElementIndex=function(){if(this.availableIndexes.length>0)return this.availableIndexes.pop();var t=this.lastElementIndex;return this.lastElementIndex+=1,t},h.prototype._addConstraint=function(t){var e=t.slack;this.tableau.variablesPerIndex[e.index]=e,this.constraints.push(t),this.nConstraints+=1,!0===this.tableauInitialized&&this.tableau.addConstraint(t)},h.prototype.smallerThan=function(t){var e=new n(t,!0,this.tableau.getNewElementIndex(),this);return this._addConstraint(e),e},h.prototype.greaterThan=function(t){var e=new n(t,!1,this.tableau.getNewElementIndex(),this);return this._addConstraint(e),e},h.prototype.equal=function(t){var e=new n(t,!0,this.tableau.getNewElementIndex(),this);this._addConstraint(e);var i=new n(t,!1,this.tableau.getNewElementIndex(),this);return this._addConstraint(i),new s(e,i)},h.prototype.addVariable=function(t,e,i,r,n){if("string"==typeof n)switch(n){case"required":default:n=0;break;case"strong":n=1;break;case"medium":n=2;break;case"weak":n=3}var s,h=this.tableau.getNewElementIndex();return null==e&&(e="v"+h),null==t&&(t=0),null==n&&(n=0),i?(s=new a(e,t,h,n),this.integerVariables.push(s)):s=new o(e,t,h,n),this.variables.push(s),this.tableau.variablesPerIndex[h]=s,r&&(this.unrestrictedVariables[h]=!0),this.nVariables+=1,!0===this.tableauInitialized&&this.tableau.addVariable(s),s},h.prototype._removeConstraint=function(t){var e=this.constraints.indexOf(t);-1!==e?(this.constraints.splice(e,1),this.nConstraints-=1,!0===this.tableauInitialized&&this.tableau.removeConstraint(t),t.relaxation&&this.removeVariable(t.relaxation)):console.warn("[Model.removeConstraint] Constraint not present in model")},h.prototype.removeConstraint=function(t){return t.isEquality?(this._removeConstraint(t.upperBound),this._removeConstraint(t.lowerBound)):this._removeConstraint(t),this},h.prototype.removeVariable=function(t){var e=this.variables.indexOf(t);if(-1!==e)return this.variables.splice(e,1),!0===this.tableauInitialized&&this.tableau.removeVariable(t),this;console.warn("[Model.removeVariable] Variable not present in model")},h.prototype.updateRightHandSide=function(t,e){return!0===this.tableauInitialized&&this.tableau.updateRightHandSide(t,e),this},h.prototype.updateConstraintCoefficient=function(t,e,i){return!0===this.tableauInitialized&&this.tableau.updateConstraintCoefficient(t,e,i),this},h.prototype.setCost=function(t,e){var i=t-e.cost;return!1===this.isMinimization&&(i=-i),e.cost=t,this.tableau.updateCost(e,i),this},h.prototype.loadJson=function(t){this.isMinimization="max"!==t.opType;for(var e=t.variables,i=t.constraints,r={},n={},o=Object.keys(i),a=o.length,h=0;h<a;h+=1){var l,d,u=o[h],f=i[u],c=f.equal,p=f.weight,v=f.priority,y=void 0!==p||void 0!==v;if(void 0===c){var m=f.min;void 0!==m&&(l=this.greaterThan(m),r[u]=l,y&&l.relax(p,v));var x=f.max;void 0!==x&&(d=this.smallerThan(x),n[u]=d,y&&d.relax(p,v))}else{l=this.greaterThan(c),r[u]=l,d=this.smallerThan(c),n[u]=d;var b=new s(l,d);y&&b.relax(p,v)}}var g=Object.keys(e),w=g.length;this.tolerance=t.tolerance||0,t.timeout&&(this.timeout=t.timeout),t.options&&(t.options.timeout&&(this.timeout=t.options.timeout),0===this.tolerance&&(this.tolerance=t.options.tolerance||0),t.options.useMIRCuts&&(this.useMIRCuts=t.options.useMIRCuts),typeof t.options.exitOnCycles>"u"?this.checkForCycles=!0:this.checkForCycles=t.options.exitOnCycles);for(var I=t.ints||{},C=t.binaries||{},B=t.unrestricted||{},V=t.optimize,M=0;M<w;M+=1){var O=g[M],z=e[O],E=z[V]||0,_=!!C[O],R=!!I[O]||_,k=!!B[O],S=this.addVariable(E,O,R,k);_&&this.smallerThan(1).addTerm(1,S);var j=Object.keys(z);for(h=0;h<j.length;h+=1){var N=j[h];if(N!==V){var P=z[N],T=r[N];void 0!==T&&T.addTerm(P,S);var A=n[N];void 0!==A&&A.addTerm(P,S)}}}return this},h.prototype.getNumberOfIntegerVariables=function(){return this.integerVariables.length},h.prototype.solve=function(){return!1===this.tableauInitialized&&(this.tableau.setModel(this),this.tableauInitialized=!0),this.tableau.solve()},h.prototype.isFeasible=function(){return this.tableau.feasible},h.prototype.save=function(){return this.tableau.save()},h.prototype.restore=function(){return this.tableau.restore()},h.prototype.activateMIRCuts=function(t){this.useMIRCuts=t},h.prototype.debug=function(t){this.checkForCycles=t},h.prototype.log=function(t){return this.tableau.log(t)}})),M=l((t=>{t.CleanObjectiveAttributes=function(t){var e,i,r;if("string"==typeof t.optimize){if(t.constraints[t.optimize]){for(i in e=Math.random(),t.variables)t.variables[i][t.optimize]&&(t.variables[i][e]=t.variables[i][t.optimize]);return t.constraints[e]=t.constraints[t.optimize],delete t.constraints[t.optimize],t}return t}for(r in t.optimize)if(t.constraints[r])if("equal"===t.constraints[r])delete t.optimize[r];else{for(i in e=Math.random(),t.variables)t.variables[i][r]&&(t.variables[i][e]=t.variables[i][r]);t.constraints[e]=t.constraints[r],delete t.constraints[r]}return t}})),O=l(((t,e)=>{e.exports=function(t){return t.length?function(t){var e={is_blank:/^\W{0,}$/,is_objective:/(max|min)(imize){0,}\:/i,is_int:/^(?!\/\*)\W{0,}int/i,is_bin:/^(?!\/\*)\W{0,}bin/i,is_constraint:/(\>|\<){0,}\=/i,is_unrestricted:/^\S{0,}unrestricted/i,parse_lhs:/(\-|\+){0,1}\s{0,1}\d{0,}\.{0,}\d{0,}\s{0,}[A-Za-z]\S{0,}/gi,parse_rhs:/(\-|\+){0,1}\d{1,}\.{0,}\d{0,}\W{0,}\;{0,1}$/i,parse_dir:/(\>|\<){0,}\=/gi,parse_int:/[^\s|^\,]+/gi,parse_bin:/[^\s|^\,]+/gi,get_num:/(\-|\+){0,1}(\W|^)\d+\.{0,1}\d{0,}/g,get_word:/[A-Za-z].*/},i={opType:"",optimize:"_obj",constraints:{},variables:{}},r={">=":"min","<=":"max","=":"equal"},n="",s=null,o="",a="",h="",l=0;"string"==typeof t&&(t=t.split("\n"));for(var d=0;d<t.length;d++)if(h="__"+d,n=t[d],s=null,e.is_objective.test(n))i.opType=n.match(/(max|min)/gi)[0],(s=n.match(e.parse_lhs).map((function(t){return t.replace(/\s+/,"")})).slice(1)).forEach((function(t){o=null===(o=t.match(e.get_num))?"-"===t.substr(0,1)?-1:1:o[0],o=parseFloat(o),a=t.match(e.get_word)[0].replace(/\;$/,""),i.variables[a]=i.variables[a]||{},i.variables[a]._obj=o}));else if(e.is_int.test(n))s=n.match(e.parse_int).slice(1),i.ints=i.ints||{},s.forEach((function(t){t=t.replace(";",""),i.ints[t]=1}));else if(e.is_bin.test(n))s=n.match(e.parse_bin).slice(1),i.binaries=i.binaries||{},s.forEach((function(t){t=t.replace(";",""),i.binaries[t]=1}));else if(e.is_constraint.test(n)){var u=n.indexOf(":");(s=(-1===u?n:n.slice(u+1)).match(e.parse_lhs).map((function(t){return t.replace(/\s+/,"")}))).forEach((function(t){o=null===(o=t.match(e.get_num))?"-"===t.substr(0,1)?-1:1:o[0],o=parseFloat(o),a=t.match(e.get_word)[0],i.variables[a]=i.variables[a]||{},i.variables[a][h]=o})),l=parseFloat(n.match(e.parse_rhs)[0]),n=r[n.match(e.parse_dir)[0]],i.constraints[h]=i.constraints[h]||{},i.constraints[h][n]=l}else e.is_unrestricted.test(n)&&(s=n.match(e.parse_int).slice(1),i.unrestricted=i.unrestricted||{},s.forEach((function(t){t=t.replace(";",""),i.unrestricted[t]=1})));return i}(t):function(t){if(!t)throw new Error("Solver requires a model to operate on");var e="",i={max:"<=",min:">=",equal:"="},r=new RegExp("[^A-Za-z0-9_[{}/.&#$%~'@^]","gi");if(t.opType)for(var n in e+=t.opType+":",t.variables)t.variables[n][n]=t.variables[n][n]?t.variables[n][n]:1,t.variables[n][t.optimize]&&(e+=" "+t.variables[n][t.optimize]+" "+n.replace(r,"_"));else e+="max:";for(var s in e+=";\n\n",t.constraints)for(var o in t.constraints[s])if(typeof i[o]<"u"){for(var a in t.variables)typeof t.variables[a][s]<"u"&&(e+=" "+t.variables[a][s]+" "+a.replace(r,"_"));e+=" "+i[o]+" "+t.constraints[s][o],e+=";\n"}if(t.ints)for(var h in e+="\n\n",t.ints)e+="int "+h.replace(r,"_")+";\n";if(t.unrestricted)for(var l in e+="\n\n",t.unrestricted)e+="unrestricted "+l.replace(r,"_")+";\n";return e}(t)}})),z=l((()=>{})),E=l((()=>{})),_=l((t=>{function e(t){return t=(t=(t=t.replace("\\r\\n","\r\n")).split("\r\n")).filter((function(t){var e;return!(!0===(e=new RegExp(" 0$","gi")).test(t)||(e=new RegExp("\\d$","gi"),!1===e.test(t)))})).map((function(t){return t.split(/\:{0,1} +(?=\d)/)})).reduce((function(t,e,i){return t[e[0]]=e[1],t}),{})}t.reformat=O(),t.solve=function(t){return new Promise((function(i,r){typeof window<"u"&&r("Function Not Available in Browser");var n=O()(t);t.external||r("Data for this function must be contained in the 'external' attribute. Not seeing anything there."),t.external.binPath||r("No Executable | Binary path provided in arguments as 'binPath'"),t.external.args||r("No arguments array for cli | bash provided on 'args' attribute"),t.external.tempName||r("No 'tempName' given. This is necessary to produce a staging file for the solver to operate on"),z().writeFile(t.external.tempName,n,(function(n,s){if(n)r(n);else{var o=E().execFile;t.external.args.push(t.external.tempName),o(t.external.binPath,t.external.args,(function(t,n){if(t)if(1===t.code)i(e(n));else{var s={code:t.code,meaning:{"-2":"Out of Memory",1:"SUBOPTIMAL",2:"INFEASIBLE",3:"UNBOUNDED",4:"DEGENERATE",5:"NUMFAILURE",6:"USER-ABORT",7:"TIMEOUT",9:"PRESOLVED",25:"ACCURACY ERROR",255:"FILE-ERROR"}[t.code],data:n};r(s)}else i(e(n))}))}}))}))}})),R=l(((t,e)=>{e.exports={lpsolve:_()}})),k=l(((t,e)=>{e.exports=function(t,e){var i,r,n,s,o,a=e.optimize,h=JSON.parse(JSON.stringify(e.optimize)),l=Object.keys(e.optimize),d=0,u={},f="",c={},p=[];for(delete e.optimize,r=0;r<l.length;r++)h[l[r]]=0;for(r=0;r<l.length;r++){for(o in e.optimize=l[r],e.opType=a[l[r]],i=t.Solve(e,void 0,void 0,!0),l)if(!e.variables[l[o]])for(s in i[l[o]]=i[l[o]]?i[l[o]]:0,e.variables)e.variables[s][l[o]]&&i[s]&&(i[l[o]]+=i[s]*e.variables[s][l[o]]);for(f="base",n=0;n<l.length;n++)i[l[n]]?f+="-"+(1e3*i[l[n]]|0)/1e3:f+="-0";if(!u[f]){for(u[f]=1,d++,n=0;n<l.length;n++)i[l[n]]&&(h[l[n]]+=i[l[n]]);delete i.feasible,delete i.result,p.push(i)}}for(r=0;r<l.length;r++)e.constraints[l[r]]={equal:h[l[r]]/d};for(r in e.optimize="cheater-"+Math.random(),e.opType="max",e.variables)e.variables[r].cheater=1;for(r in p)for(s in p[r])c[s]=c[s]||{min:1e99,max:-1e99};for(r in c)for(s in p)p[s][r]?(p[s][r]>c[r].max&&(c[r].max=p[s][r]),p[s][r]<c[r].min&&(c[r].min=p[s][r])):(p[s][r]=0,c[r].min=0);return{midpoint:i=t.Solve(e,void 0,void 0,!0),vertices:p,ranges:c}}})),S=l(((t,e)=>{var i=C(),r=V(),n=B(),s=y(),o=M(),a=s.Constraint,h=s.Variable,l=s.Numeral,d=s.Term,u=R(),f=function(){this.Model=r,this.branchAndCut=n,this.Constraint=a,this.Variable=h,this.Numeral=l,this.Term=d,this.Tableau=i,this.lastSolvedModel=null,this.External=u,this.Solve=function(t,e,i,n){if(n)for(var s in o)t=o[s](t);if(!t)throw new Error("Solver requires a model to operate on");if("object"==typeof t.optimize&&Object.keys(t.optimize>1))return k()(this,t);if(t.external){var a=Object.keys(u);if(a=JSON.stringify(a),!t.external.solver)throw new Error("The model you provided has an 'external' object that doesn't have a solver attribute. Use one of the following:"+a);if(!u[t.external.solver])throw new Error("No support (yet) for "+t.external.solver+". Please use one of these instead:"+a);return u[t.external.solver].solve(t)}t instanceof r||(t=new r(e).loadJson(t));var h=t.solve();if(this.lastSolvedModel=t,h.solutionSet=h.generateSolutionSet(),i)return h;var l={};return l.feasible=h.feasible,l.result=h.evaluation,l.bounded=h.bounded,h._tableau.__isIntegral&&(l.isIntegral=!0),Object.keys(h.solutionSet).forEach((function(t){0!==h.solutionSet[t]&&(l[t]=h.solutionSet[t])})),l},this.ReformatLP=O(),this.MultiObjective=function(t){return k()(this,t)}};"function"==typeof define?define([],(function(){return new f})):"object"==typeof window?window.solver=new f:"object"==typeof self&&(self.solver=new f),e.exports=new f})),j=l(((t,e)=>{var i,r,n=1e-60;do{i=1+.1*(n+=n),r=1+.2*n}while(i<=1||r<=1);e.exports=n})),N=l(((t,e)=>{e.exports=function(t,e,i){let r,n;for(let s=1;s<=i;s+=1){t[s][s]=1/t[s][s],n=-t[s][s];for(let e=1;e<s;e+=1)t[e][s]*=n;if(r=s+1,i<r)break;for(let e=r;e<=i;e+=1){n=t[s][e],t[s][e]=0;for(let i=1;i<=s;i+=1)t[i][e]+=n*t[i][s]}}}})),P=l(((t,e)=>{e.exports=function(t,e,i,r){let n,s;for(n=1;n<=i;n+=1){s=0;for(let e=1;e<n;e+=1)s+=t[e][n]*r[e];r[n]=(r[n]-s)/t[n][n]}for(let o=1;o<=i;o+=1){n=i+1-o,r[n]/=t[n][n],s=-r[n];for(let e=1;e<n;e+=1)r[e]+=s*t[e][n]}}})),T=l(((t,e)=>{e.exports=function(t,e,i,r){let n,s,o;for(let a=1;a<=i;a+=1){if(r[1]=a,o=0,n=a-1,n<1){if(o=t[a][a]-o,o<=0)break;t[a][a]=Math.sqrt(o)}else{for(let e=1;e<=n;e+=1){s=t[e][a];for(let i=1;i<e;i+=1)s-=t[i][a]*t[i][e];s/=t[e][e],t[e][a]=s,o+=s*s}if(o=t[a][a]-o,o<=0)break;t[a][a]=Math.sqrt(o)}r[1]=0}}})),A=l(((t,e)=>{var i=j(),r=N(),n=P(),s=T();e.exports=function(t,e,o,a,h,l,d,u,f,c,p,v,y,m=0,x,b,g){let w,I,C,B,V,M,O,z,E,_,R,k,S,j,N=Math.min(a,p),P=2*a+N*(N+5)/2+2*p+1;for(let i=1;i<=a;i+=1)b[i]=e[i];for(let i=a+1;i<=P;i+=1)b[i]=0;for(let i=1;i<=p;i+=1)y[i]=0,l[i]=0;let T=[];if(0===g[1]){if(s(t,o,a,T),0!==T[1])return void(g[1]=2);n(t,o,a,e),r(t,o,a)}else{for(let i=1;i<=a;i+=1){h[i]=0;for(let r=1;r<=i;r+=1)h[i]+=t[r][i]*e[r]}for(let i=1;i<=a;i+=1){e[i]=0;for(let r=i;r<=a;r+=1)e[i]+=t[i][r]*h[r]}}d[1]=0;for(let i=1;i<=a;i+=1){h[i]=e[i],d[1]+=b[i]*h[i],b[i]=0;for(let e=i+1;e<=a;e+=1)t[e][i]=0}d[1]=-d[1]/2,g[1]=0;let A=a,F=A+a,q=F+N,L=q+N+1,D=L+N*(N+1)/2,U=D+p;for(let i=1;i<=p;i+=1){M=0;for(let t=1;t<=a;t+=1)M+=u[t][i]*u[t][i];b[U+i]=Math.sqrt(M)}function $(){x[1]+=1,P=D;for(let t=1;t<=p;t+=1){P+=1,M=-f[t];for(let e=1;e<=a;e+=1)M+=u[e][t]*h[e];if(Math.abs(M)<i&&(M=0),t>v)b[P]=M;else if(b[P]=-Math.abs(M),M>0){for(let e=1;e<=a;e+=1)u[e][t]=-u[e][t];f[t]=-f[t]}}for(let t=1;t<=B;t+=1)b[D+y[t]]=0;C=0,V=0;for(let t=1;t<=p;t+=1)b[D+t]<V*b[U+t]&&(C=t,V=b[D+t]/b[U+t]);if(0===C){for(let t=1;t<=B;t+=1)l[y[t]]=b[q+t];return 999}return 0}function H(){for(let e=1;e<=a;e+=1){M=0;for(let i=1;i<=a;i+=1)M+=t[i][e]*u[i][C];b[e]=M}w=A;for(let t=1;t<=a;t+=1)b[w+t]=0;for(let e=B+1;e<=a;e+=1)for(let i=1;i<=a;i+=1)b[w+i]=b[w+i]+t[i][e]*b[e];k=!0;for(let t=B;t>=1;t-=1){M=b[t],P=L+t*(t+3)/2,w=P-t;for(let e=t+1;e<=B;e+=1)M-=b[P]*b[F+e],P+=e;M/=b[w],b[F+t]=M,!(y[t]<=v)&&(M<=0||(k=!1,I=t))}if(!k){O=b[q+I]/b[F+I];for(let t=1;t<=B;t+=1)y[t]<=v||b[F+t]<=0||(V=b[q+t]/b[F+t],V<O&&(O=V,I=t))}M=0;for(let t=A+1;t<=A+a;t+=1)M+=b[t]*b[t];if(Math.abs(M)<=i){if(k)return g[1]=1,999;for(let t=1;t<=B;t+=1)b[q+t]=b[q+t]-O*b[F+t];return b[q+B+1]=b[q+B+1]+O,700}M=0;for(let t=1;t<=a;t+=1)M+=b[A+t]*u[t][C];z=-b[D+C]/M,S=!0,k||O<z&&(z=O,S=!1);for(let t=1;t<=a;t+=1)h[t]+=z*b[A+t],Math.abs(h[t])<i&&(h[t]=0);d[1]+=z*M*(z/2+b[q+B+1]);for(let t=1;t<=B;t+=1)b[q+t]=b[q+t]-z*b[F+t];if(b[q+B+1]=b[q+B+1]+z,!S){M=-f[C];for(let t=1;t<=a;t+=1)M+=h[t]*u[t][C];if(C>v)b[D+C]=M;else if(b[D+C]=-Math.abs(M),M>0){for(let t=1;t<=a;t+=1)u[t][C]=-u[t][C];f[C]=-f[C]}return 700}B+=1,y[B]=C,P=L+(B-1)*B/2+1;for(let t=1;t<=B-1;t+=1)b[P]=b[t],P+=1;if(B===a)b[P]=b[a];else{for(let e=a;e>=B+1;e-=1)if(0!==b[e]&&(E=Math.max(Math.abs(b[e-1]),Math.abs(b[e])),_=Math.min(Math.abs(b[e-1]),Math.abs(b[e])),V=b[e-1]>=0?Math.abs(E*Math.sqrt(1+_*_/(E*E))):-Math.abs(E*Math.sqrt(1+_*_/(E*E))),E=b[e-1]/V,_=b[e]/V,1!==E))if(0===E){b[e-1]=_*V;for(let i=1;i<=a;i+=1)V=t[i][e-1],t[i][e-1]=t[i][e],t[i][e]=V}else{b[e-1]=V,R=_/(1+E);for(let i=1;i<=a;i+=1)V=E*t[i][e-1]+_*t[i][e],t[i][e]=R*(t[i][e-1]+V)-t[i][e],t[i][e-1]=V}b[P]=b[B]}return 0}function W(){if(P=L+I*(I+1)/2+1,w=P+I,0===b[w]||(E=Math.max(Math.abs(b[w-1]),Math.abs(b[w])),_=Math.min(Math.abs(b[w-1]),Math.abs(b[w])),V=b[w-1]>=0?Math.abs(E*Math.sqrt(1+_*_/(E*E))):-Math.abs(E*Math.sqrt(1+_*_/(E*E))),E=b[w-1]/V,_=b[w]/V,1===E))return 798;if(0===E){for(let t=I+1;t<=B;t+=1)V=b[w-1],b[w-1]=b[w],b[w]=V,w+=t;for(let e=1;e<=a;e+=1)V=t[e][I],t[e][I]=t[e][I+1],t[e][I+1]=V}else{R=_/(1+E);for(let t=I+1;t<=B;t+=1)V=E*b[w-1]+_*b[w],b[w]=R*(b[w-1]+V)-b[w],b[w-1]=V,w+=t;for(let e=1;e<=a;e+=1)V=E*t[e][I]+_*t[e][I+1],t[e][I+1]=R*(t[e][I]+V)-t[e][I+1],t[e][I]=V}return 0}function J(){w=P-I;for(let t=1;t<=I;t+=1)b[w]=b[P],P+=1,w+=1;return b[q+I]=b[q+I+1],y[I]=y[I+1],I+=1,I<B?797:0}function Z(){return b[q+B]=b[q+B+1],b[q+B+1]=0,y[B]=0,B-=1,x[2]+=1,0}for(B=m,x[1]=0,x[2]=0,j=0;;){if(j=$(),999===j)return;for(;j=H(),0!==j;){if(999===j)return;if(700===j)if(I===B)Z();else{for(;W(),j=J(),797===j;);Z()}}}}})),F=l((t=>{var e=A();t.solveQP=function(t,i,r,n=[],s=0,o=[0,0]){let a=[],h=[],l=[],d=[],u=[],f=[],c="",p=t.length-1,v=r[1].length-1;if(!n)for(let e=1;e<=v;e+=1)n[e]=0;if(p!==t[1].length-1&&(c="Dmat is not symmetric!"),p!==i.length-1&&(c="Dmat and dvec are incompatible!"),p!==r.length-1&&(c="Amat and dvec are incompatible!"),v!==n.length-1&&(c="Amat and bvec are incompatible!"),(s>v||s<0)&&(c="Value of meq is invalid!"),""!==c)return{message:c};for(let e=1;e<=v;e+=1)h[e]=0,d[e]=0;let y=Math.min(p,v);for(let e=1;e<=p;e+=1)l[e]=0;a[1]=0;for(let e=1;e<=2*p+y*(y+5)/2+2*v+1;e+=1)u[e]=0;for(let e=1;e<=2;e+=1)f[e]=0;return e(t,i,p,p,l,d,a,r,n,p,v,s,h,0,f,u,o),1===o[1]&&(c="constraints are inconsistent, no solution!"),2===o[1]&&(c="matrix D in quadratic function is not positive definite!"),{solution:l,Lagrangian:d,value:a,unconstrained_solution:i,iterations:f,iact:h,message:c}}})),q=l(((t,e)=>{e.exports=F()}));function*L(t){let e=0;for(let i of t)yield[e++,i]}function*D(t,e){for(let[i,r]of L(t))yield*e(r,i)}function U(t,e,i){let r=i;for(let[n,s]of L(t))r=e(r,s,n);return r}function*$(t,e){for(let[i,r]of L(t))yield e(r,i)}function H(t,e){for(let[i,r]of L(t))if(e(r,i))return!0;return!1}function W(t,e){return!H(t,((t,i)=>!e(t,i)))}function J(t){let{done:e,value:i}=t.values().next();if(!e)return t.delete(i),i}function Z(t,e,i){let r=t.get(e);void 0===r?t.set(e,[i]):r.push(i)}function G(t,e,i){let r=t.get(e);void 0===r?t.set(e,new Set([i])):r.add(i)}function Q(){let t=new WeakSet;return(e,i)=>{if("object"==typeof i&&null!==i){if(t.has(i))return"[circular]";t.add(i)}return i}}function Y(t,...e){let[i,...r]=t;return[i].concat(...r.map(((t,i)=>[JSON.stringify(e[i],Q()),t]))).join("")}function*K(t,...e){let i,r=new Set;for(;void 0!==(i=e.pop());)r.has(i)||(yield i,r.add(i),e.push(...t(i)))}d(u());function X(t){let e=new Map;for(let i of t)for(let t of i.ichildren())Z(e,t,i);return e}var tt=class{constructor(t,e,i=[],r=!1){this.child=t,this.data=e,this.points=i,this.reversed=r}},et=class{constructor(t,e,i,r,n){this.source=t,this.target=e,this.data=i,this.points=r,this.reversed=n}},it=class{constructor(t){t&&(this.proots=t)}[Symbol.iterator](){return this.idescendants()[Symbol.iterator]()}iroots(){return{[Symbol.iterator]:()=>this.proots[Symbol.iterator]()}}roots(){return[...this.iroots()]}*idepth(){yield*K((t=>t.ichildren()),...this.iroots())}*ibreadth(){let t=new Set,e=this.roots(),i=[];do{let r;for(i=e.reverse(),e=[];r=i.pop();)t.has(r)||(t.add(r),yield r,e.push(...r.ichildren()))}while(e.length)}*ibefore(){let t=new Map;for(let r of this)for(let e of r.ichildren())t.set(e,(t.get(e)||0)+1);let e,i=this.roots();for(;e=i.pop();){yield e;for(let r of e.ichildren()){let e=t.get(r);e>1?t.set(r,e-1):i.push(r)}}}*iafter(){let t,e=this.roots(),i=new Set;for(;t=e.pop();)i.has(t)||(W(t.ichildren(),(t=>i.has(t)))?(i.add(t),yield t):e.push(t,...t.ichildren()))}idescendants(t="depth"){if("depth"===t)return this.idepth();if("breadth"===t)return this.ibreadth();if("before"===t)return this.ibefore();if("after"===t)return this.iafter();throw new Error(`unknown iteration style: ${t}`)}descendants(t="depth"){return[...this.idescendants(t)]}ilinks(){return D(this,(t=>t.ichildLinks()))}links(){return[...this.ilinks()]}size(){return U(this,(t=>t+1),0)}sum(t){let e=new Map;for(let[i,r]of L(this.idescendants("after"))){let n=t(r,i),s=new Map;s.set(r,n);for(let t of r.ichildren()){let i=e.get(t);for(let[t,e]of i.entries())s.set(t,e)}r.value=U(s.values(),((t,e)=>t+e),0),e.set(r,s)}return this}count(){let t=new Map;for(let e of this.idescendants("after"))if(e.ichildren()[Symbol.iterator]().next().done)t.set(e,new Set([e])),e.value=1;else{let i=new Set;for(let r of e.ichildren()){let e=t.get(r);for(let t of e)i.add(t)}t.set(e,i),e.value=i.size}return this}height(){for(let t of this.idescendants("after"))t.value=Math.max(0,...$(t.ichildren(),(t=>t.value+1)));return this}depth(){let t=X(this);for(let e of this.idescendants("before"))e.value=Math.max(0,...$(t.get(e)??[],(t=>t.value+1)));return this}*isplit(){let t=X(this);function*e(e){yield*e.ichildren(),yield*t.get(e)??[]}let i=new Set(this.iroots());for(let r of this.iroots()){if(!i.delete(r))continue;let t=[r];for(let n of K(e,r))i.delete(n)&&t.push(n);yield t.length>1?new it(t):t[0]}}split(){return[...this.isplit()]}connected(){let t=this.isplit()[Symbol.iterator]();t.next();let{done:e}=t.next();return!!e}multidag(){return void 0===this.pmultidag?this.pmultidag=H(this.iroots(),(t=>t.multidag())):this.pmultidag}},rt=class extends it{constructor(t){super(),this.data=t,this.dataChildren=[]}childrenCountsMap(){if(void 0===this.cachedChildrenCounts){let t=new Map;for(let{child:e}of this.dataChildren)t.set(e,(t.get(e)??0)+1);return this.cachedChildrenCounts=t.size===this.dataChildren.length?null:t}return this.cachedChildrenCounts}iroots(){let t=[this];return{[Symbol.iterator]:()=>t[Symbol.iterator]()}}nchildren(){return this.childrenCountsMap()?.size??this.dataChildren.length}nchildLinks(){return this.dataChildren.length}nchildLinksTo(t){return this.childrenCountsMap()?.get(t)??1}*ichildren(){let t=this.childrenCountsMap();if(null===t)for(let{child:e}of this.dataChildren)yield e;else yield*t.keys()}children(){return[...this.ichildren()]}*ichildrenCounts(){let t=this.childrenCountsMap();if(null===t)for(let{child:e}of this.dataChildren)yield[e,1];else yield*t}childrenCounts(){return[...this.ichildrenCounts()]}*ichildLinks(){for(let{child:t,data:e,points:i,reversed:r}of this.dataChildren)yield new et(this,t,e,i,r)}childLinks(){return[...this.ichildLinks()]}isplit(){return this.iroots()}split(){return this.roots()}connected(){return!0}multidag(){return void 0===this.pmultidag?this.pmultidag=null!==this.childrenCountsMap()||H(this.ichildren(),(t=>t.multidag())):this.pmultidag}};function nt(t){if("string"!=typeof t)throw new Error("id is supposed to be string but got type "+typeof t);return t}function st(t,e){if(!t.length)throw new Error("dag contained no roots; this often indicates a cycle");for(let o of new it(t))for(let t of o.ichildren())if(t===o)throw new Error(Y`node '${o.data}' contained a self loop`);if(!e)return;let i=new Set,r=new Set,n=null;function s(t){if(i.has(t))return[];if(r.has(t))return n=t,[t];{r.add(t);let e=[];for(let i of t.ichildren())if(e=s(i),e.length)break;return r.delete(t),i.add(t),e.length&&null!==n&&e.push(t),n===t&&(n=null),e}}for(let o of t){let t=s(o);if(t.length){let e=t.reverse().map((({data:t})=>Y`'${t}'`)).join(" -> ");throw new Error(`dag contained a cycle: ${e}`)}}}function ot(t){return t&&J(t)}function at(t){let e=new Map;for(let c of t)for(let{child:t}of c.dataChildren)Z(e,t,c);let i=new Map($(t,(t=>[t,{indeg:e.get(t)?.length??0,outdeg:t.nchildLinks(),node:t}]))),r=Math.max(...$(function*(t,e){for(let[i,r]of L(t))e(r,i)&&(yield r)}(i.values(),(({indeg:t,outdeg:e})=>t>0&&e>0)),(({indeg:t,outdeg:e})=>e-t)));if(r===-1/0){let t=[];for(let{indeg:e,node:r}of i.values())0===e&&t.push(r);return t}let n=new Set,s=new Set,o=new Map;for(let c of i.values()){let{outdeg:t,indeg:e}=c;if(0===e)n.add(c);else if(0===t)s.add(c);else{G(o,t-e,c)}}let a=0,h=t.length,l=r,d=new Array(t.length);for(;a<h;){let t=J(n)??J(s)??ot(o.get(l));if(void 0===t)--l;else{let{node:r,indeg:u,outdeg:f}=t;d[t.rank=u>0&&0===f?--h:a++]=r;for(let t of e.get(r)??[]){let e=i.get(t);if(void 0===e.rank&&e.indeg>0&&e.outdeg>0){let t=e.outdeg-e.indeg;o.get(t).delete(e),--e.outdeg,e.outdeg>0?G(o,t-1,e):s.add(e)}}for(let{child:t}of r.dataChildren){let e=i.get(t);if(void 0===e.rank&&0!==e.indeg)if(0===e.outdeg)--e.indeg,0===e.indeg&&(s.delete(e),n.add(e));else{let t=e.outdeg-e.indeg;t===l&&++l,o.get(t).delete(e),--e.indeg,0===e.indeg?n.add(e):G(o,t+1,e)}}}}let u=[],f=new Set;for(let[c,p]of d.entries()){let t=[];for(let e of p.dataChildren){let r=i.get(e.child);r.rank<c?r.node.dataChildren.push(new tt(p,e.data,e.points,!0)):t.push(e)}t.length===p.nchildLinks()&&!f.has(p)&&u.push(p);for(let{child:e}of t)f.add(e);p.dataChildren=t}return u}function ht(t){function e(e){if(!e.length)throw new Error("can't stratify empty data");let r=new Map;for(let[o,a]of e.entries()){let e=nt(t.id(a,o)),n=t.parentData(a,o)??[],s=new rt(a);if(r.has(e))throw new Error(`found a duplicate id: ${i}`);r.set(e,[s,n])}let n=[];for(let[t,i]of r.values()){for(let[e,n]of i){let i=r.get(e);if(!i)throw new Error(`missing id: ${e}`);let[s]=i;s.dataChildren.push(new tt(t,n))}i.length||n.push(t)}let s=t.decycle?at([...$(r.values(),(([t])=>t))]):n;return st(s,!t.decycle),s.length>1?new it(s):s[0]}function i(e){if(void 0===e)return t.id;{let{id:i,...r}=t;return ht({...r,id:e})}}return e.id=i,e.parentData=function(e){if(void 0===e)return t.parentData;{let{parentIds:i,parentData:r,...n}=t;return ht({...n,parentIds:dt(e),parentData:e})}},e.parentIds=function(e){if(void 0===e)return t.parentIds;{let{parentIds:i,parentData:r,...n}=t;return ht({...n,parentIds:e,parentData:lt(e)})}},e.decycle=function(e){return void 0===e?t.decycle:ht({...t,decycle:e})},e}function lt(t){function e(e,i){return(t(e,i)??[]).map((t=>[t,void 0]))}return e.wrapped=t,e}function dt(t){function e(e,i){return(t(e,i)??[]).map((([t])=>t))}return e.wrapped=t,e}function ut(t){if(function(t){try{return"string"==typeof t.id}catch{return!1}}(t))return t.id;throw new Error(Y`default id function expected datum to have an id field but got '${t}'`)}function ft(t){if(function(t){try{let e=t.parentIds;return void 0===e||e instanceof Array&&e.every((t=>"string"==typeof t))}catch{return!1}}(t))return t.parentIds;throw new Error(`default parentIds function expected datum to have a parentIds field but got: ${t}`)}function ct(...t){if(t.length)throw new Error(`got arguments to stratify(${t}), but constructor takes no arguments. These were probably meant as data which should be called as stratify()(...)`);return ht({id:ut,parentIds:ft,parentData:lt(ft),decycle:!1})}function pt(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function vt(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function yt(t){let e,i,r;function n(t,r,n=0,s=t.length){if(n<s){if(0!==e(r,r))return s;do{let e=n+s>>>1;i(t[e],r)<0?n=e+1:s=e}while(n<s)}return n}return 2!==t.length?(e=pt,i=(e,i)=>pt(t(e),i),r=(e,i)=>t(e)-i):(e=t===pt||t===vt?t:mt,i=t,r=t),{left:n,center:function(t,e,i=0,s=t.length){let o=n(t,e,i,s-1);return o>i&&r(t[o-1],e)>-r(t[o],e)?o-1:o},right:function(t,r,n=0,s=t.length){if(n<s){if(0!==e(r,r))return s;do{let e=n+s>>>1;i(t[e],r)<=0?n=e+1:s=e}while(n<s)}return n}}}function mt(){return 0}var xt=yt(pt);xt.right,xt.left,yt((function(t){return null===t?NaN:+t})).center;var bt=Array.prototype;bt.slice,bt.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);var gt;gt=Math.random;d(S());d(q());d(u());function wt(t,e){let i=t.findIndex((t=>t<=e));return i>=0?i:t.length}function It(t,e,i,r){function n(n){let s,o=[],a=0;for(let t of n.idescendants("before"))void 0!==s&&s.nchildLinksTo(t)>1&&++a,o.push([t,a++]),s=t;let h=function(t){let e=new Map(t),i=[];for(let[o,[a,h]]of t.entries()){let r=!1,n=t[o+1]?.[0];for(let[t,{target:s}]of L(a.ichildLinks())){let o=e.get(s);n!==s||r?i.push([h,o,a,t]):r=!0}}i.sort((([t,e],[i,r])=>e===r?i-t:e-r));let r=new Map,n=[],s=[];for(let[o,a,h,l]of i){let t=r.get(h);void 0===t&&(t=[],r.set(h,t));let e=wt(s,o),i=wt(n,o);e<i?(t[l]=-e-1,s[e]=a-1):(t[l]=i+1,n[i]=a-1)}return r}(o),l=0,d=0;for(let t of h.values())for(let e of t)void 0!==e&&(l=Math.min(l,e),d=Math.max(d,e));let u=-l*i+t/2;for(let[t,i]of o)t.x=u,t.y=(i+.5)*e;for(let r of n){let n=h.get(r)??[];for(let[s,{target:o,points:a}]of L(r.ichildLinks())){a.length=0,a.push({x:r.x,y:r.y});let h=n[s];if(void 0!==h){let n=(h-l+.5)*i+(h>0?t-i:0),s=r.y+e,d=o.y-e;d-s>e/2?a.push({x:n,y:s},{x:n,y:d}):a.push({x:n,y:s})}a.push({x:o.x,y:o.y})}}let f=(d-l)*i+t,c=a*e;if(null===r)return{width:f,height:c};{let[t,e]=r;for(let[i]of o)i.x*=t/f,i.y*=e/c;for(let{points:i}of n.ilinks()){let r=i.map((({x:i,y:r})=>({x:i*t/f,y:r*e/c})));i.splice(0,i.length,...r)}return{width:t,height:e}}}return n.nodeSize=function(n){if(void 0===n)return[t,e,i];{let[t,e,i]=n;return It(t,e,i,r)}},n.size=function(n){if(void 0!==n)return It(t,e,i,n);if(null===r)return r;{let[t,e]=r;return[t,e]}},n}function Ct(...t){if(t.length)throw new Error(`got arguments to zherebko(${t}), but constructor takes no arguments.`);return It(1,1,1,null)}}}]);